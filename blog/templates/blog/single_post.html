{% extends 'blog/base.html' %}
<!-- load static -->
{% load static %} {% block link %}
<link rel="stylesheet" href="{% static 'blog/assets/css/single_post.css' %}" />
{% endblock link %}

<!-- Content starts here -->
{% block content %}
<section class="border-bottom pb-4"></section>

<section class="my-4">
	<div class="container">
		<div class="row">
			<div class="col-lg-9">
				<div class="content p-2">
					<div class="card-header bg-white border-0 d-sm-flex">
						<div class="text-muted me-3">{{ post.date_published }}</div>

						<div class="text-muted me-3">By {{post.author}}</div>

						<div class="text-muted me-3">
							<i class="bi bi-chat-dots-fill text-success"></i> {{num}}
						</div>
					</div>
					<h1 class="card-title fw-bold fs-3 mb-4">{{ post.title }}</h1>
					{% if post.image %}
					<div class="d-flex" style="height: 400px">
						<img
							class="img-fluid img-center"
							src="{{post.image.url}}"
							alt=""
							srcset=""
						/>
					</div>
					<!-- 
					<div class="cover d-flex" style="height: 400px">
						<img
							class="img-fluid img-center"
							src="{% static 'blog/assets/img/ray-so-export.png' %}"
							alt=""
							srcset=""
						/>
					</div> -->
					{% endif %}
					<p class="mb-4">{{ post.content |safe}}</p>
				</div>
				<div class="d-flex justify-content-center my-4 comment-like">
					<div class="d-flex rounded-pill shadow-lg p-2">
						<!-- <div class="text-muted me-3">
							<i class="bi bi-hand-thumbs-up-fill text-warning fs-6"></i> 15
						</div> -->

						<div
							class="text-muted me-3 ps-3"
							type="button"
							data-bs-toggle="offcanvas"
							data-bs-target="#offcanvasWithBothOptions"
							aria-controls="offcanvasWithBothOptions"
						>
							Leave a Comment ({{num}})
						</div>
					</div>
				</div>
			</div>

			<div class="col border-start ps-4">
				<div class="d-flex justify-content-around border-bottom pb-4 mb-4">
					<div>
						<h6 class="fs-3 fw-bold text-center">9K</h6>
						<p class="fw-light text-center">
							<i class="bi bi-book text-warning"></i> Stories
						</p>
					</div>
					<div>
						<h6 class="fs-3 fw-bold text-center">9K</h6>
						<p class="fw-light text-center">
							<i class="bi bi-vector-pen text-success"></i> Tutorials
						</p>
					</div>
				</div>
				<div class="categories">
					<h6>Recommended topics</h6>
					<div class="tags mt-4">
						<a
							class="btn btn-sm btn-light rounded-pill mb-2"
							role="button"
							href="https://google.com"
							>Reading</a
						>
						<a class="btn btn-sm btn-light rounded-pill mb-2" role="button">Writing</a
						><a class="btn btn-sm btn-light rounded-pill mb-2" role="button">Tutorial</a
						><a class="btn btn-sm btn-light rounded-pill mb-2" role="button">Python</a>
						<a
							class="btn btn-sm btn-light rounded-pill mb-2"
							role="button"
							href="https://google.com"
							>Reading</a
						>
						<a class="btn btn-sm btn-light rounded-pill mb-2" role="button">Writing</a
						><a class="btn btn-sm btn-light rounded-pill mb-2" role="button">Tutorial</a
						><a class="btn btn-sm btn-light rounded-pill mb-2" role="button">Python</a>
					</div>
				</div>
				<div class="search mb-3">
					<nav class="navbar bg-body-white my-5">
						<div class="container-fluid">
							<form class="d-flex" role="search">
								<input
									class="form-control me-2"
									type="search"
									placeholder="Search"
									aria-label="Search"
								/>
								<button class="btn btn-outline-secondary" type="submit">
									Search
								</button>
							</form>
						</div>
					</nav>
				</div>
				<div>
					<h6 class="mb-3">Recommended posts</h6>
					<div>
						<div class="sidebar-post">
							<div class="text-muted me-3">1 day ago</div>
							<h5 class="mb-3">
								Special title treatment With supporting text below as a natural
								lead-in to additional
							</h5>
						</div>
						<div class="sidebar-post">
							<div class="text-muted me-3">1 day ago</div>
							<h5 class="mb-3">
								Special title treatment With supporting text below as a natural
								lead-in to additional
							</h5>
						</div>
						<div class="sidebar-post">
							<div class="text-muted me-3">1 day ago</div>
							<h5 class="mb-3">
								Special title treatment With supporting text below as a natural
								lead-in to additional
							</h5>
						</div>
						<div class="sidebar-post">
							<div class="text-muted me-3">1 day ago</div>
							<h5 class="mb-3">
								Special title treatment With supporting text below as a natural
								lead-in to additional
							</h5>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Comment Section Offconvas -->
<section>
	<div
		class="offcanvas offcanvas-end"
		data-bs-scroll="true"
		tabindex="-1"
		id="offcanvasWithBothOptions"
		aria-labelledby="offcanvasWithBothOptionsLabel"
	>
		<div class="offcanvas-header">
			<h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">Comments ({{num}})</h5>
			<button
				type="button"
				class="btn-close"
				data-bs-dismiss="offcanvas"
				aria-label="Close"
			></button>
		</div>
		<div class="offcanvas-body">
			<div class="mb-4">
				<form action="" method="post" class="shadow rounded p-3">
					{% csrf_token %}
					<div class="mb-3">
						<input
							type="text"
							class="form-control border-0"
							id="exampleFormControlInput1"
							placeholder="Your Name (Anonymous)"
							value="Anonymous"
							name="name"
							minlength="5"
							maxlength="25"
							required
						/>
					</div>
					<div class="mb-3">
						<textarea
							class="form-control border-0"
							id="exampleFormControlTextarea1"
							rows="3"
							placeholder="What are your thoughts? (max - 500 words)"
							name="content"
							maxlength="500"
							required
						></textarea>
					</div>
					<div class="d-flex d-grid gap-3 justify-content-end">
						<button type="reset" class="btn btn-sm btn-light rounded-pill px-3">
							Cancel
						</button>
						<button type="submit" class="btn btn-sm btn-success rounded-pill px-3">
							Respond
						</button>
					</div>
				</form>
			</div>
			<div>
				{% for comment in comments %}
				<div class="card mb-2">
					<div class="card-body mb-0">
						<blockquote class="blockquote mb-1 fs-6">
							<p>{{ comment.content |linebreaks }}</p>
							<footer class="blockquote-footer">
								<cite title="Source Title">{{ comment.name }}</cite>
							</footer>
						</blockquote>
					</div>
				</div>
				{% endfor %}
			</div>
		</div>
	</div>
</section>

{% endblock %}
