{% extends 'blog/base.html' %}
<!-- load static -->
{% load static %}
<!-- Content starts here -->
{% block content %}
<section class="border-bottom pb-4"></section>

<section class="my-4">
	<div class="container">
		<div class="row">
			<div class="col-lg-9">
				<div class="fst-italic fs-2 px-3">
					Results for <span class="fw-bold"> {{ search }} </span>
				</div>
				<div class="content">
					{% if posts %} {% for post in posts %}
					<div class="card mb-2 border-0 border-bottom py-3">
						<div class="card-header bg-white text-muted border-0 d-flex">
							{{ post.date_published |timesince }}
						</div>
						<div class="card-body py-0">
							<a
								href="{{post.get_absolute_url}}"
								class="text-decoration-none text-dark"
							>
								<h5 class="card-title fw-bold">{{post.title}}</h5>
							</a>
							<div class="row">
								<div class="col-md-10">
									<p class="card-text">
										{{post.content | truncatewords:50|safe}}
									</p>
								</div>
								{% if post.image %}
								<div class="col-2 d-none d-md-block">
									<img
										class="img-fluid img-thumbnail"
										src="{{post.image.url}}"
										alt=""
										srcset=""
									/>
								</div>
								{% endif %}
							</div>
							<div class="tags mt-2">
								{% for tag in post.tags.names %}
								<div class="d-inline-flex">
									<a
										class="btn btn-sm py-0 me-1 btn-light rounded-pill d-block"
										href="https://google.com"
									>
										{{tag}}
									</a>
								</div>
								{% endfor %}
							</div>
						</div>
					</div>
					{% endfor %} {% endif %}
				</div>
				<div class="pages my-5">
					<nav aria-label="Page navigation example">
						<ul class="pagination justify-content-center">
							{% if posts.has_previous %}
							<li class="page-item">
								<a href="?page=1" class="page-link text-black">First</a>
							</li>
							<li class="page-item">
								<a
									href="?page={{posts.previous_page_number}}"
									class="page-link text-black"
									>Previous</a
								>
							</li>
							{% endif %} {% for num in posts.paginator.page_range %}
							<!--  -->
							{% if posts.number == num %}

							<li class="page-item">
								<a href="?page={{num}}" class="page-link text-black">{{num}}</a>
							</li>
							{% elif num > posts.number|add:'-3' and num < posts.number|add:'3' %}

							<li class="page-item">
								<a href="?page={{num}}" class="page-link text-black">{{num}}</a>
							</li>
							{% endif %} {% endfor %}
							<!--  -->
							{% if posts.has_next %}

							<li class="page-item">
								<a
									href="?page={{posts.next_page_number}}"
									class="page-link text-black"
									>Next</a
								>
							</li>
							<li class="page-item">
								<a
									href="?page={{posts.paginator.num_pages}}"
									class="page-link text-black"
									>Last</a
								>
							</li>
							{% endif %}
						</ul>
					</nav>
				</div>
			</div>

			<!-- =================== SIDEBAR ================================================ -->

			<div class="col border-start ps-4">{% include 'blog/side_bar.html' %}</div>
		</div>
	</div>
</section>

{% endblock %}
